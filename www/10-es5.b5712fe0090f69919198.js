!function(){function n(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function e(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function t(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"ct+p":function(e,o,i){"use strict";i.r(o),i.d(o,"HomePageModule",(function(){return L}));var r,l=i("ofXK"),a=i("TEn/"),s=i("8IyQ"),c=i("tyNb"),g=i("fXoL"),u=i("3Pt+"),m=i("z6cu"),p=i("lJxs"),b=i("JIr8"),d=i("tk/3"),f=((r=function(){function e(t){n(this,e),this.http=t,this.baseUrl="https://api.inventar.torhelge.no/users/"}return t(e,[{key:"getAll",value:function(){var n=this;return this.http.get(this.baseUrl+"/read.php",{responseType:"text"}).pipe(Object(p.a)((function(e){return n.users=JSON.parse(e),console.log(n.users),n.users})),Object(b.a)(this.handleError))}},{key:"getSingle",value:function(n){return this.http.get(this.baseUrl+"/read_single.php?uid="+n+"`",{responseType:"text"}).pipe(Object(p.a)((function(n){return n})),Object(b.a)(this.handleError))}},{key:"handleError",value:function(n){return console.log(n),Object(m.a)("Error! Noe gikk feil:          "+n.message)}}]),e}()).\u0275fac=function(n){return new(n||r)(g.Tb(d.a))},r.\u0275prov=g.Gb({token:r,factory:r.\u0275fac,providedIn:"root"}),r);function h(n,e){if(1&n&&(g.Pb(0,"div",14),g.pc(1),g.Ob()),2&n){var t=g.bc();g.zb(1),g.rc(" ",t.uidAlert," ")}}function O(n,e){if(1&n&&(g.Pb(0,"div",14),g.pc(1),g.Ob()),2&n){var t=g.bc();g.zb(1),g.rc(" ",t.pinAlert," ")}}var P,y=((P=function(){function e(t,o){n(this,e),this.fb=t,this.BrukerService=o,this.uid="",this.pin="",this.uidAlert="Dette feltet er p\xe5krevd, og m\xe5 inneholde mellom 4 og 6 tall",this.pinAlert="Dette feltet er p\xe5krevd, og m\xe5 inneholde mellom 4 og 6 tall",this.error="",this.status="",this.loginForm=t.group({uid:[null,u.m.compose([u.m.pattern("^[0-9]+$"),u.m.required,u.m.minLength(4),u.m.maxLength(6)])],pin:[null,u.m.compose([u.m.pattern("^[0-9]+$"),u.m.required,u.m.minLength(4),u.m.maxLength(6)])]})}return t(e,[{key:"login",value:function(n){this.uid=n.uid,this.pin=n.pin,sessionStorage.setItem("name","Default"),sessionStorage.setItem("loggedin","true"),location.reload(),this.getUser(this.uid),null!=this.pin&&(console.log(this.checkUser),console.log(this.pin),console.log(this.checkUser.pin),sessionStorage.setItem("name",this.checkUser.name),sessionStorage.setItem("loggedin","true"),location.reload())}},{key:"getUser",value:function(n){var e=this;this.BrukerService.getSingle(n).subscribe((function(n){e.checkUser=JSON.parse(n)}),(function(n){e.error=n}))}},{key:"ngOnInit",value:function(){var n=this;this.loginForm.get("uid").valueChanges.subscribe((function(e){"admin"!==e&&"Admin"!==e||(n.loginForm.get("pin").setValidators([u.m.required,u.m.minLength(4),u.m.maxLength(6)]),n.loginForm.get("uid").setValidators([u.m.required,u.m.minLength(4),u.m.maxLength(6)]))}))}}]),e}()).\u0275fac=function(n){return new(n||P)(g.Kb(u.b),g.Kb(f))},P.\u0275cmp=g.Eb({type:P,selectors:[["app-login-form"]],decls:28,vars:4,consts:[["size","1","size-md","3","size-xl","4"],["size","10","size-md","6","size-xl","4"],["id","logo","src","../../../assets/NSF-logo.png"],["id","title","color","primary"],["id","titlephone","color","primary"],["color","secondary",1,"margin","padding","justify-content-center","loginform"],[3,"formGroup","ngSubmit"],["color","secondary"],["id","label","position","floating"],["formControlName","uid","inputmode","numeric","clear-input","true","type","text"],["class","alert",4,"ngIf"],["formControlName","pin","inputmode","numeric","clear-input","true","type","password"],["color","primary","expand","block","type","submit",1,"padding",3,"disabled"],["slot","start","name","log-in-outline"],[1,"alert"]],template:function(n,e){1&n&&(g.Pb(0,"ion-grid"),g.Pb(1,"ion-row"),g.Lb(2,"ion-col",0),g.Pb(3,"ion-col",1),g.Lb(4,"ion-img",2),g.Pb(5,"ion-title",3),g.pc(6,"Norges Speiderforbund"),g.Ob(),g.Pb(7,"ion-title",4),g.pc(8,"Norges"),g.Ob(),g.Pb(9,"ion-title",4),g.pc(10,"Speiderforbund"),g.Ob(),g.Pb(11,"ion-card",5),g.Pb(12,"form",6),g.Xb("ngSubmit",(function(){return e.login(e.loginForm.value)})),g.Pb(13,"ion-item",7),g.Pb(14,"ion-label",8),g.pc(15,"UID:"),g.Ob(),g.Lb(16,"ion-input",9),g.Ob(),g.oc(17,h,2,1,"div",10),g.Pb(18,"ion-item",7),g.Pb(19,"ion-label",8),g.pc(20,"PIN:"),g.Ob(),g.Lb(21,"ion-input",11),g.Ob(),g.oc(22,O,2,1,"div",10),g.Pb(23,"ion-button",12),g.Lb(24,"ion-icon",13),g.Pb(25,"ion-label"),g.pc(26,"Login"),g.Ob(),g.Ob(),g.Ob(),g.Ob(),g.Ob(),g.Lb(27,"ion-col",0),g.Ob(),g.Ob()),2&n&&(g.zb(12),g.ec("formGroup",e.loginForm),g.zb(5),g.ec("ngIf",!e.loginForm.controls.uid.valid&&e.loginForm.controls.uid.touched&&e.loginForm.controls.uid.value.length>0),g.zb(5),g.ec("ngIf",!e.loginForm.controls.pin.valid&&e.loginForm.controls.pin.touched&&e.loginForm.controls.pin.value.length>0),g.zb(1),g.ec("disabled",!e.loginForm.valid))},directives:[a.j,a.s,a.h,a.m,a.u,a.g,u.n,u.j,u.d,a.o,a.p,a.n,a.B,u.i,u.c,l.i,a.e,a.l],styles:[".form-container[_ngcontent-%COMP%]{display:block;width:90%;padding:2em;margin:2em auto;background:#fff}.loginform[_ngcontent-%COMP%]{box-shadow:0 1px 6.9px #2baccc;margin-bottom:-10%}.alert[_ngcontent-%COMP%]{background:#f2edda;padding:7px;font-size:.9em;margin:.5rem .5rem 20px;display:inline-block;-webkit-animation:alertAnim 2s forwards;animation:alertAnim 2s forwards}.button[_ngcontent-%COMP%]{margin:.5rem;margin-top:1rem!important}#label[_ngcontent-%COMP%]{font-size:1rem}#label[_ngcontent-%COMP%], ion-label[_ngcontent-%COMP%]{font-family:Georgia,Times New Roman,Times,serif}ion-card[_ngcontent-%COMP%]{margin-top:6.9%;padding-bottom:1%}#title[_ngcontent-%COMP%]{margin-top:16.9%;margin-bottom:10%;text-overflow:clip;white-space:unset;overflow:unset}#title[_ngcontent-%COMP%], #titlephone[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;text-align:center}#titlephone[_ngcontent-%COMP%]{display:none}#logo[_ngcontent-%COMP%]{width:calc(381px/1.5);height:calc(327px/1.5);margin-left:calc(50% - 127px);margin-bottom:-26.9%}@-webkit-keyframes alertAnim{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes alertAnim{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@media only screen and (max-width:450px){#title[_ngcontent-%COMP%]{display:none}#titlephone[_ngcontent-%COMP%]{display:unset}}"]}),P);function k(n,e){1&n&&(g.Pb(0,"ion-col",4),g.Lb(1,"app-login-form"),g.Ob())}function v(n,e){1&n&&(g.Pb(0,"ion-grid"),g.Pb(1,"ion-row"),g.Lb(2,"ion-col",5),g.Pb(3,"ion-col",6),g.Pb(4,"ion-button",7),g.pc(5,"Innsjekk"),g.Ob(),g.Ob(),g.Lb(6,"ion-col",5),g.Ob(),g.Pb(7,"ion-row"),g.Pb(8,"ion-col",8),g.Pb(9,"ion-button",9),g.pc(10,"Utsjekk"),g.Ob(),g.Ob(),g.Ob(),g.Ob())}var w,x,z,C=[{path:"",component:(w=function(){function e(){n(this,e),this.loggedin=sessionStorage.getItem("loggedin")}return t(e,[{key:"login",value:function(){}}]),e}(),w.\u0275fac=function(n){return new(n||w)},w.\u0275cmp=g.Eb({type:w,selectors:[["app-home"]],decls:4,vars:3,consts:[["color","secondary",3,"fullscreen"],["size","12","class","",4,"ngIf"],[1,"wrapper"],[4,"ngIf"],["size","12",1,""],["size","3"],["size","12","id","innsjekk"],["routerLink","/innsjekk","fill","outline","size","large"],["size","12","id","utsjekk"],["routerLink","/utsjekk","fill","outline","size","large"]],template:function(n,e){1&n&&(g.Pb(0,"ion-content",0),g.oc(1,k,2,0,"ion-col",1),g.Pb(2,"div",2),g.oc(3,v,11,0,"ion-grid",3),g.Ob(),g.Ob()),2&n&&(g.ec("fullscreen",!0),g.zb(1),g.ec("ngIf",!e.loggedin),g.zb(2),g.ec("ngIf",e.loggedin))},directives:[a.i,l.i,a.h,y,a.j,a.s,a.e,a.A,c.h],styles:[".wrapper[_ngcontent-%COMP%]{text-align:center;width:100%;margin:10% auto auto}ion-button[_ngcontent-%COMP%]{width:50%;height:15vh;padding:2vh}ion-grid[_ngcontent-%COMP%], ion-row[_ngcontent-%COMP%]{width:100%}@media only screen and (max-width:450px){#innsjekk[_ngcontent-%COMP%]{margin-top:15%;margin-bottom:15%}}"]}),w)},{path:"profil",component:s.a}],I=((z=function e(){n(this,e)}).\u0275mod=g.Ib({type:z}),z.\u0275inj=g.Hb({factory:function(n){return new(n||z)},imports:[[c.i.forChild(C)],c.i]}),z),L=((x=function e(){n(this,e)}).\u0275mod=g.Ib({type:x}),x.\u0275inj=g.Hb({factory:function(n){return new(n||x)},imports:[[l.b,u.e,a.w,I,u.l,u.e]]}),x)}}])}();