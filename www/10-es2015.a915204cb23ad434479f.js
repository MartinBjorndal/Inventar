(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"ct+p":function(e,t,n){"use strict";n.r(t),n.d(t,"HomePageModule",(function(){return y}));var i=n("ofXK"),o=n("TEn/"),r=n("8IyQ"),s=n("tyNb"),l=n("fXoL"),c=n("3Pt+"),a=n("z6cu"),m=n("lJxs"),g=n("JIr8"),p=n("tk/3");let b=(()=>{class e{constructor(e){this.http=e,this.baseUrl="http://localhost/api/users/"}getAll(){return this.http.get(this.baseUrl+"/read.php",{responseType:"text"}).pipe(Object(m.a)(e=>(this.users=JSON.parse(e),console.log(this.users),this.users)),Object(g.a)(this.handleError))}getSingle(e){return this.http.get(this.baseUrl+"/read_single.php?uid="+e+"`",{responseType:"text"}).pipe(Object(m.a)(e=>e),Object(g.a)(this.handleError))}handleError(e){return console.log(e),Object(a.a)("Error! Noe gikk feil:          "+e.message)}}return e.\u0275fac=function(t){return new(t||e)(l.Tb(p.a))},e.\u0275prov=l.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function u(e,t){if(1&e&&(l.Pb(0,"div",11),l.pc(1),l.Ob()),2&e){const e=l.bc();l.zb(1),l.rc(" ",e.uidAlert," ")}}function d(e,t){if(1&e&&(l.Pb(0,"div",11),l.pc(1),l.Ob()),2&e){const e=l.bc();l.zb(1),l.rc(" ",e.pinAlert," ")}}let h=(()=>{class e{constructor(e,t){this.fb=e,this.BrukerService=t,this.uid="",this.pin="",this.uidAlert="Dette feltet er p\xe5krevd, og m\xe5 inneholde mellom 4 og 6 tall",this.pinAlert="Dette feltet er p\xe5krevd, og m\xe5 inneholde mellom 4 og 6 tall",this.error="",this.status="",this.loginForm=e.group({uid:[null,c.m.compose([c.m.pattern("^[0-9]+$"),c.m.required,c.m.minLength(4),c.m.maxLength(6)])],pin:[null,c.m.compose([c.m.pattern("^[0-9]+$"),c.m.required,c.m.minLength(4),c.m.maxLength(6)])]})}login(e){this.uid=e.uid,this.pin=e.pin,this.getUser(this.uid),null!=this.checkUser&&("User not found"==this.checkUser?console.log("User not found"):this.checkUser.pin==this.pin?(sessionStorage.setItem("name",this.checkUser.name),sessionStorage.setItem("loggedin","true"),location.reload()):(console.log(this.checkUser.pin),console.log("Wrong pin"+this.checkUser)))}getUser(e){this.BrukerService.getSingle(e).subscribe(e=>{this.checkUser=JSON.parse(JSON.stringify(e))},e=>{this.error=e})}ngOnInit(){this.loginForm.get("uid").valueChanges.subscribe(e=>{"admin"!==e&&"Admin"!==e||(this.loginForm.get("pin").setValidators([c.m.required,c.m.minLength(4),c.m.maxLength(6)]),this.loginForm.get("uid").setValidators([c.m.required,c.m.minLength(4),c.m.maxLength(6)]))})}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(c.b),l.Kb(b))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-login-form"]],decls:22,vars:4,consts:[["size","1","size-md","3","size-xl","4"],["size","10","size-md","6","size-xl","4"],["src","../../../assets/icon/logo.png",2,"width","120px","height","120px","margin-left","calc(50% - 60px)"],[1,"margin","padding","justify-content-center"],[3,"formGroup","ngSubmit"],["position","floating"],["formControlName","uid","inputmode","numeric","clear-input","true","type","text"],["class","alert",4,"ngIf"],["formControlName","pin","inputmode","numeric","clear-input","true","type","password"],["color","success","expand","block","type","submit",1,"padding",3,"disabled"],["slot","start","name","log-in-outline"],[1,"alert"]],template:function(e,t){1&e&&(l.Pb(0,"ion-grid"),l.Pb(1,"ion-row"),l.Lb(2,"ion-col",0),l.Pb(3,"ion-col",1),l.Lb(4,"ion-img",2),l.Pb(5,"ion-card",3),l.Pb(6,"form",4),l.Xb("ngSubmit",(function(){return t.login(t.loginForm.value)})),l.Pb(7,"ion-item"),l.Pb(8,"ion-label",5),l.pc(9,"UID:"),l.Ob(),l.Lb(10,"ion-input",6),l.Ob(),l.oc(11,u,2,1,"div",7),l.Pb(12,"ion-item"),l.Pb(13,"ion-label",5),l.pc(14,"PIN:"),l.Ob(),l.Lb(15,"ion-input",8),l.Ob(),l.oc(16,d,2,1,"div",7),l.Pb(17,"ion-button",9),l.Lb(18,"ion-icon",10),l.Pb(19,"ion-label"),l.pc(20,"Login"),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Lb(21,"ion-col",0),l.Ob(),l.Ob()),2&e&&(l.zb(6),l.ec("formGroup",t.loginForm),l.zb(5),l.ec("ngIf",!t.loginForm.controls.uid.valid&&t.loginForm.controls.uid.touched&&t.loginForm.controls.uid.value.length>0),l.zb(5),l.ec("ngIf",!t.loginForm.controls.pin.valid&&t.loginForm.controls.pin.touched&&t.loginForm.controls.pin.value.length>0),l.zb(1),l.ec("disabled",!t.loginForm.valid))},directives:[o.j,o.s,o.h,o.m,o.g,c.n,c.j,c.d,o.o,o.p,o.n,o.B,c.i,c.c,i.j,o.e,o.l],styles:[".form-container[_ngcontent-%COMP%]{display:block;width:90%;padding:2em;margin:2em auto;background:#fff}.alert[_ngcontent-%COMP%]{background:#f2edda;padding:7px;font-size:.9em;margin:.5rem .5rem 20px;display:inline-block;-webkit-animation:alertAnim 2s forwards;animation:alertAnim 2s forwards}.button[_ngcontent-%COMP%]{margin:.5rem;margin-top:1rem!important}h1[_ngcontent-%COMP%]{margin-bottom:2rem;font-weight:700;font-family:Muli;font-size:2em}@-webkit-keyframes alertAnim{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes alertAnim{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}"]}),e})();function f(e,t){1&e&&(l.Pb(0,"ion-col",4),l.Lb(1,"app-login-form"),l.Ob())}function O(e,t){1&e&&(l.Pb(0,"ion-grid"),l.Pb(1,"ion-row"),l.Pb(2,"ion-col",5),l.Pb(3,"ion-button",6),l.pc(4,"Innsjekk"),l.Ob(),l.Ob(),l.Ob(),l.Pb(5,"ion-row"),l.Pb(6,"ion-col",5),l.Pb(7,"ion-button",7),l.pc(8,"Utsjekk"),l.Ob(),l.Ob(),l.Ob(),l.Ob())}const k=[{path:"",component:(()=>{class e{constructor(){this.loggedin=sessionStorage.getItem("loggedin")}login(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Eb({type:e,selectors:[["app-home"]],decls:4,vars:3,consts:[[3,"fullscreen"],["size","12","class","",4,"ngIf"],[1,"wrapper"],[4,"ngIf"],["size","12",1,""],["size","12"],["routerLink","/innsjekk","fill","outline","size","large"],["routerLink","/utsjekk","fill","outline","size","large"]],template:function(e,t){1&e&&(l.Pb(0,"ion-content",0),l.oc(1,f,2,0,"ion-col",1),l.Pb(2,"div",2),l.oc(3,O,9,0,"ion-grid",3),l.Ob(),l.Ob()),2&e&&(l.ec("fullscreen",!0),l.zb(1),l.ec("ngIf",!t.loggedin),l.zb(2),l.ec("ngIf",t.loggedin))},directives:[o.i,i.j,o.h,h,o.j,o.s,o.e,o.A,s.h],styles:[".wrapper[_ngcontent-%COMP%]{text-align:center;margin:10% auto auto}ion-button[_ngcontent-%COMP%]{width:50%;height:15vh;padding:2vh}"]}),e})()},{path:"profil",component:r.a}];let P=(()=>{class e{}return e.\u0275mod=l.Ib({type:e}),e.\u0275inj=l.Hb({factory:function(t){return new(t||e)},imports:[[s.i.forChild(k)],s.i]}),e})(),y=(()=>{class e{}return e.\u0275mod=l.Ib({type:e}),e.\u0275inj=l.Hb({factory:function(t){return new(t||e)},imports:[[i.b,c.e,o.w,P,c.l,c.e]]}),e})()}}]);