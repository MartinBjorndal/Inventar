(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"ct+p":function(e,t,n){"use strict";n.r(t),n.d(t,"HomePageModule",(function(){return y}));var o=n("ofXK"),i=n("TEn/"),r=n("8IyQ"),s=n("tyNb"),l=n("fXoL"),a=n("3Pt+"),c=n("z6cu"),g=n("lJxs"),m=n("JIr8"),b=n("tk/3");let p=(()=>{class e{constructor(e){this.http=e,this.baseUrl="https://api.inventar.torhelge.no/users/"}getAll(){return this.http.get(this.baseUrl+"/read.php",{responseType:"text"}).pipe(Object(g.a)(e=>(this.users=JSON.parse(e),console.log(this.users),this.users)),Object(m.a)(this.handleError))}getSingle(e){return this.http.get(this.baseUrl+"/read_single.php?uid="+e+"`",{responseType:"text"}).pipe(Object(g.a)(e=>e),Object(m.a)(this.handleError))}handleError(e){return console.log(e),Object(c.a)("Error! Noe gikk feil:          "+e.message)}}return e.\u0275fac=function(t){return new(t||e)(l.Tb(b.a))},e.\u0275prov=l.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function u(e,t){if(1&e&&(l.Pb(0,"div",13),l.pc(1),l.Ob()),2&e){const e=l.bc();l.zb(1),l.rc(" ",e.uidAlert," ")}}function d(e,t){if(1&e&&(l.Pb(0,"div",13),l.pc(1),l.Ob()),2&e){const e=l.bc();l.zb(1),l.rc(" ",e.pinAlert," ")}}let h=(()=>{class e{constructor(e,t){this.fb=e,this.BrukerService=t,this.uid="",this.pin="",this.uidAlert="Dette feltet er p\xe5krevd, og m\xe5 inneholde mellom 4 og 6 tall",this.pinAlert="Dette feltet er p\xe5krevd, og m\xe5 inneholde mellom 4 og 6 tall",this.error="",this.status="",this.loginForm=e.group({uid:[null,a.m.compose([a.m.pattern("^[0-9]+$"),a.m.required,a.m.minLength(4),a.m.maxLength(6)])],pin:[null,a.m.compose([a.m.pattern("^[0-9]+$"),a.m.required,a.m.minLength(4),a.m.maxLength(6)])]})}login(e){this.uid=e.uid,this.pin=e.pin,sessionStorage.setItem("name","Default"),sessionStorage.setItem("loggedin","true"),location.reload(),this.getUser(this.uid),null!=this.pin&&(console.log(this.checkUser),console.log(this.pin),console.log(this.checkUser.pin),sessionStorage.setItem("name",this.checkUser.name),sessionStorage.setItem("loggedin","true"),location.reload())}getUser(e){this.BrukerService.getSingle(e).subscribe(e=>{this.checkUser=JSON.parse(e)},e=>{this.error=e})}ngOnInit(){this.loginForm.get("uid").valueChanges.subscribe(e=>{"admin"!==e&&"Admin"!==e||(this.loginForm.get("pin").setValidators([a.m.required,a.m.minLength(4),a.m.maxLength(6)]),this.loginForm.get("uid").setValidators([a.m.required,a.m.minLength(4),a.m.maxLength(6)]))})}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(a.b),l.Kb(p))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-login-form"]],decls:24,vars:4,consts:[["size","1","size-md","3","size-xl","4"],["size","10","size-md","6","size-xl","4"],["id","logo","src","../../../assets/NSF-logo.png"],["id","title","color","primary"],["color","secondary",1,"margin","padding","justify-content-center","loginform"],[3,"formGroup","ngSubmit"],["color","secondary"],["id","label","position","floating"],["formControlName","uid","inputmode","numeric","clear-input","true","type","text"],["class","alert",4,"ngIf"],["formControlName","pin","inputmode","numeric","clear-input","true","type","password"],["color","primary","expand","block","type","submit",1,"padding",3,"disabled"],["slot","start","name","log-in-outline"],[1,"alert"]],template:function(e,t){1&e&&(l.Pb(0,"ion-grid"),l.Pb(1,"ion-row"),l.Lb(2,"ion-col",0),l.Pb(3,"ion-col",1),l.Lb(4,"ion-img",2),l.Pb(5,"ion-title",3),l.pc(6,"Norges Speiderforbund"),l.Ob(),l.Pb(7,"ion-card",4),l.Pb(8,"form",5),l.Xb("ngSubmit",(function(){return t.login(t.loginForm.value)})),l.Pb(9,"ion-item",6),l.Pb(10,"ion-label",7),l.pc(11,"UID:"),l.Ob(),l.Lb(12,"ion-input",8),l.Ob(),l.oc(13,u,2,1,"div",9),l.Pb(14,"ion-item",6),l.Pb(15,"ion-label",7),l.pc(16,"PIN:"),l.Ob(),l.Lb(17,"ion-input",10),l.Ob(),l.oc(18,d,2,1,"div",9),l.Pb(19,"ion-button",11),l.Lb(20,"ion-icon",12),l.Pb(21,"ion-label"),l.pc(22,"Login"),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Lb(23,"ion-col",0),l.Ob(),l.Ob()),2&e&&(l.zb(8),l.ec("formGroup",t.loginForm),l.zb(5),l.ec("ngIf",!t.loginForm.controls.uid.valid&&t.loginForm.controls.uid.touched&&t.loginForm.controls.uid.value.length>0),l.zb(5),l.ec("ngIf",!t.loginForm.controls.pin.valid&&t.loginForm.controls.pin.touched&&t.loginForm.controls.pin.value.length>0),l.zb(1),l.ec("disabled",!t.loginForm.valid))},directives:[i.j,i.s,i.h,i.m,i.u,i.g,a.n,a.j,a.d,i.o,i.p,i.n,i.B,a.i,a.c,o.j,i.e,i.l],styles:[".form-container[_ngcontent-%COMP%]{display:block;width:90%;padding:2em;margin:2em auto;background:#fff}.loginform[_ngcontent-%COMP%]{box-shadow:0 1px 6.9px #2baccc;margin-bottom:-10%}.alert[_ngcontent-%COMP%]{background:#f2edda;padding:7px;font-size:.9em;margin:.5rem .5rem 20px;display:inline-block;-webkit-animation:alertAnim 2s forwards;animation:alertAnim 2s forwards}.button[_ngcontent-%COMP%]{margin:.5rem;margin-top:1rem!important}#label[_ngcontent-%COMP%]{font-size:1rem}#label[_ngcontent-%COMP%], ion-label[_ngcontent-%COMP%]{font-family:Georgia,Times New Roman,Times,serif}ion-card[_ngcontent-%COMP%]{margin-top:6.9%;padding-bottom:1%}#title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;text-align:center;margin-top:-16.9%;margin-bottom:10%;word-break:break-all}#logo[_ngcontent-%COMP%]{width:calc(381px/1.5);height:calc(327px/1.5);margin-left:calc(50% - 127px);margin-bottom:-6.9%}@-webkit-keyframes alertAnim{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes alertAnim{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}"]}),e})();function f(e,t){1&e&&(l.Pb(0,"ion-col",4),l.Lb(1,"app-login-form"),l.Ob())}function O(e,t){1&e&&(l.Pb(0,"ion-grid"),l.Pb(1,"ion-row"),l.Pb(2,"ion-col",5),l.Pb(3,"ion-button",6),l.pc(4,"Innsjekk"),l.Ob(),l.Ob(),l.Ob(),l.Pb(5,"ion-row"),l.Pb(6,"ion-col",5),l.Pb(7,"ion-button",7),l.pc(8,"Utsjekk"),l.Ob(),l.Ob(),l.Ob(),l.Ob())}const P=[{path:"",component:(()=>{class e{constructor(){this.loggedin=sessionStorage.getItem("loggedin")}login(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Eb({type:e,selectors:[["app-home"]],decls:4,vars:3,consts:[["color","secondary",3,"fullscreen"],["size","12","class","",4,"ngIf"],[1,"wrapper"],[4,"ngIf"],["size","12",1,""],["size","12"],["routerLink","/innsjekk","fill","outline","size","large"],["routerLink","/utsjekk","fill","outline","size","large"]],template:function(e,t){1&e&&(l.Pb(0,"ion-content",0),l.oc(1,f,2,0,"ion-col",1),l.Pb(2,"div",2),l.oc(3,O,9,0,"ion-grid",3),l.Ob(),l.Ob()),2&e&&(l.ec("fullscreen",!0),l.zb(1),l.ec("ngIf",!t.loggedin),l.zb(2),l.ec("ngIf",t.loggedin))},directives:[i.i,o.j,i.h,h,i.j,i.s,i.e,i.A,s.h],styles:[".wrapper[_ngcontent-%COMP%]{text-align:center;margin:10% auto auto}ion-button[_ngcontent-%COMP%]{width:50%;height:15vh;padding:2vh}"]}),e})()},{path:"profil",component:r.a}];let k=(()=>{class e{}return e.\u0275mod=l.Ib({type:e}),e.\u0275inj=l.Hb({factory:function(t){return new(t||e)},imports:[[s.i.forChild(P)],s.i]}),e})(),y=(()=>{class e{}return e.\u0275mod=l.Ib({type:e}),e.\u0275inj=l.Hb({factory:function(t){return new(t||e)},imports:[[o.b,a.e,i.w,k,a.l,a.e]]}),e})()}}]);