!function(){function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function e(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{"ct+p":function(n,i,o){"use strict";o.r(i),o.d(i,"HomePageModule",function(){return S});var r,a=o("ofXK"),s=o("TEn/"),c=o("8IyQ"),l=o("tyNb"),g=o("BCvD"),b=o("XNiG"),u=o("fXoL"),d=o("3Pt+"),m=o("z6cu"),p=o("lJxs"),f=o("JIr8"),h=o("tk/3"),v=((r=function(){function n(e){t(this,n),this.http=e,this.baseUrl="https://api.inventar.torhelge.no/users/"}return e(n,[{key:"getAll",value:function(){var t=this;return this.http.get("".concat(this.baseUrl,"/read.php"),{responseType:"text"}).pipe(Object(p.a)(function(n){return t.users=JSON.parse(n),console.log(t.users),t.users}),Object(f.a)(this.handleError))}},{key:"getSingle",value:function(t){return this.http.get("".concat(this.baseUrl,"/read_single.php?uid=")+t+"`",{responseType:"text"}).pipe(Object(p.a)(function(t){return t}),Object(f.a)(this.handleError))}},{key:"handleError",value:function(t){return console.log(t),Object(m.a)("Error! Noe gikk feil:          "+t.message)}}]),n}()).\u0275fac=function(t){return new(t||r)(u.Ub(h.a))},r.\u0275prov=u.Hb({token:r,factory:r.\u0275fac,providedIn:"root"}),r);function P(t,n){if(1&t&&(u.Qb(0,"div",13),u.qc(1),u.Pb()),2&t){var e=u.cc();u.Ab(1),u.sc(" ",e.uidAlert," ")}}function y(t,n){if(1&t&&(u.Qb(0,"div",13),u.qc(1),u.Pb()),2&t){var e=u.cc();u.Ab(1),u.sc(" ",e.pinAlert," ")}}var w,O=((w=function(){function n(e,i){t(this,n),this.fb=e,this.BrukerService=i,this.uid="",this.pin="",this.uidAlert="Dette feltet er p\xe5krevd, og m\xe5 inneholde mellom 4 og 6 tall",this.pinAlert="Dette feltet er p\xe5krevd, og m\xe5 inneholde mellom 4 og 6 tall",this.error="",this.status="",this.loginForm=e.group({uid:[null,d.m.compose([d.m.pattern("^[0-9]+$"),d.m.required,d.m.minLength(4),d.m.maxLength(6)])],pin:[null,d.m.compose([d.m.pattern("^[0-9]+$"),d.m.required,d.m.minLength(4),d.m.maxLength(6)])]})}return e(n,[{key:"login",value:function(t){this.uid=t.uid,this.pin=t.pin,sessionStorage.setItem("name","Default"),sessionStorage.setItem("loggedin","true"),location.reload(),this.getUser(this.uid),null!=this.pin&&(console.log(this.checkUser),console.log(this.pin),console.log(this.checkUser.pin),sessionStorage.setItem("name",this.checkUser.name),sessionStorage.setItem("loggedin","true"),location.reload())}},{key:"getUser",value:function(t){var n=this;this.BrukerService.getSingle(t).subscribe(function(t){n.checkUser=JSON.parse(t)},function(t){n.error=t})}},{key:"ngOnInit",value:function(){var t=this;this.loginForm.get("uid").valueChanges.subscribe(function(n){"admin"!==n&&"Admin"!==n||(t.loginForm.get("pin").setValidators([d.m.required,d.m.minLength(4),d.m.maxLength(6)]),t.loginForm.get("uid").setValidators([d.m.required,d.m.minLength(4),d.m.maxLength(6)]))})}}]),n}()).\u0275fac=function(t){return new(t||w)(u.Lb(d.b),u.Lb(v))},w.\u0275cmp=u.Fb({type:w,selectors:[["app-login-form"]],decls:24,vars:4,consts:[["size","1","size-md","3","size-xl","4"],["size","10","size-md","6","size-xl","4"],["id","logo","src","../../../assets/Arna-msk-Logo.svg"],["id","title","color","primary"],["color","secondary",1,"margin","padding","justify-content-center","loginform"],[3,"formGroup","ngSubmit"],["color","secondary"],["id","label","position","floating"],["formControlName","uid","inputmode","numeric","clear-input","true","type","text"],["class","alert",4,"ngIf"],["formControlName","pin","inputmode","numeric","clear-input","true","type","password"],["color","primary","expand","block","type","submit",1,"padding",3,"disabled"],["slot","start","name","log-in-outline"],[1,"alert"]],template:function(t,n){1&t&&(u.Qb(0,"ion-grid"),u.Qb(1,"ion-row"),u.Mb(2,"ion-col",0),u.Qb(3,"ion-col",1),u.Mb(4,"ion-img",2),u.Qb(5,"ion-title",3),u.qc(6,"Arna MSK Inventar System"),u.Pb(),u.Qb(7,"ion-card",4),u.Qb(8,"form",5),u.Yb("ngSubmit",function(){return n.login(n.loginForm.value)}),u.Qb(9,"ion-item",6),u.Qb(10,"ion-label",7),u.qc(11,"UID:"),u.Pb(),u.Mb(12,"ion-input",8),u.Pb(),u.pc(13,P,2,1,"div",9),u.Qb(14,"ion-item",6),u.Qb(15,"ion-label",7),u.qc(16,"PIN:"),u.Pb(),u.Mb(17,"ion-input",10),u.Pb(),u.pc(18,y,2,1,"div",9),u.Qb(19,"ion-button",11),u.Mb(20,"ion-icon",12),u.Qb(21,"ion-label"),u.qc(22,"Login"),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Mb(23,"ion-col",0),u.Pb(),u.Pb()),2&t&&(u.Ab(8),u.fc("formGroup",n.loginForm),u.Ab(5),u.fc("ngIf",!n.loginForm.controls.uid.valid&&n.loginForm.controls.uid.touched&&n.loginForm.controls.uid.value.length>0),u.Ab(5),u.fc("ngIf",!n.loginForm.controls.pin.valid&&n.loginForm.controls.pin.touched&&n.loginForm.controls.pin.value.length>0),u.Ab(1),u.fc("disabled",!n.loginForm.valid))},directives:[s.j,s.s,s.h,s.m,s.u,s.g,d.n,d.j,d.d,s.o,s.p,s.n,s.B,d.i,d.c,a.j,s.e,s.l],styles:[".form-container[_ngcontent-%COMP%]{display:block;width:90%;padding:2em;margin:2em auto;background:#fff}.loginform[_ngcontent-%COMP%]{box-shadow:0 1px 6.9px #2baccc;margin-bottom:-10%}.alert[_ngcontent-%COMP%]{background:#f2edda;padding:7px;font-size:.9em;margin:.5rem .5rem 20px;display:inline-block;-webkit-animation:alertAnim 2s forwards;animation:alertAnim 2s forwards}.button[_ngcontent-%COMP%]{margin:.5rem;margin-top:1rem!important}#label[_ngcontent-%COMP%]{font-size:1rem}#label[_ngcontent-%COMP%], ion-label[_ngcontent-%COMP%]{font-family:Georgia,Times New Roman,Times,serif}ion-card[_ngcontent-%COMP%]{margin-top:6.9%;padding-bottom:1%}#title[_ngcontent-%COMP%]{margin-top:16.9%;margin-bottom:10%;text-overflow:clip;white-space:unset;overflow:unset}#title[_ngcontent-%COMP%], #titlephone[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;text-align:center}#titlephone[_ngcontent-%COMP%]{display:none}#logo[_ngcontent-%COMP%]{width:200px;height:200px;margin-left:calc(50%);transform:translateX(-100px)}@-webkit-keyframes alertAnim{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes alertAnim{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@media only screen and (max-width:450px){#title[_ngcontent-%COMP%]{display:none}#titlephone[_ngcontent-%COMP%]{display:unset}#logo[_ngcontent-%COMP%]{margin-bottom:30%}}"]}),w),k=function(){function t(t){this.el=t,this.dtOptions={}}return t.prototype.ngOnInit=function(){var t=this;this.dtTrigger?this.dtTrigger.subscribe(function(){t.displayTable()}):this.displayTable()},t.prototype.ngOnDestroy=function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.dt&&this.dt.destroy(!0)},t.prototype.displayTable=function(){var t=this;this.dtInstance=new Promise(function(n,e){Promise.resolve(t.dtOptions).then(function(e){setTimeout(function(){var i={rowCallback:function(n,i,o){if(e.columns){var r=e.columns;r.filter(function(t){return t.ngPipeInstance}).forEach(function(t){var e=t.ngPipeInstance,i=r.findIndex(function(n){return n.data==t.data}),o=n.childNodes.item(i),a=$(o).text(),s=e.transform(a);$(o).text(s)})}t.dtOptions.rowCallback&&t.dtOptions.rowCallback(n,i,o)}};i=Object.assign({},e,i),t.dt=$(t.el.nativeElement).DataTable(i),n(t.dt)})})})},t.\u0275fac=function(n){return new(n||t)(u.Lb(u.m))},t.\u0275dir=u.Gb({type:t,selectors:[["","datatable",""]],inputs:{dtOptions:"dtOptions",dtTrigger:"dtTrigger"}}),t}(),Q=function(){function t(){}return t.forRoot=function(){return{ngModule:t}},t.\u0275mod=u.Jb({type:t}),t.\u0275inj=u.Ib({factory:function(n){return new(n||t)},imports:[[a.b]]}),t}();function I(t,n){1&t&&(u.Qb(0,"ion-col",4),u.Mb(1,"app-login-form"),u.Pb())}function M(t,n){if(1&t&&(u.Qb(0,"tr"),u.Qb(1,"td"),u.qc(2),u.Pb(),u.Qb(3,"td"),u.qc(4),u.Pb(),u.Qb(5,"td"),u.qc(6),u.Pb(),u.Qb(7,"td"),u.qc(8),u.Pb(),u.Qb(9,"td"),u.qc(10),u.Pb(),u.Qb(11,"td"),u.qc(12),u.Pb(),u.Qb(13,"td"),u.qc(14),u.Pb(),u.Pb()),2&t){var e=n.$implicit;u.Ab(2),u.rc(e.uid),u.Ab(2),u.rc(e.name),u.Ab(2),u.rc(e.location),u.Ab(2),u.rc(e.status),u.Ab(2),u.rc(e.weight+"g"),u.Ab(2),u.rc(e.size),u.Ab(2),u.rc(e.comment)}}function x(t,n){if(1&t&&(u.Qb(0,"ion-grid"),u.Qb(1,"ion-row"),u.Mb(2,"ion-col",5),u.Qb(3,"ion-col",6),u.Qb(4,"ion-card",7),u.Qb(5,"table",8),u.Qb(6,"thead"),u.Qb(7,"tr"),u.Qb(8,"th"),u.qc(9,"UID"),u.Pb(),u.Qb(10,"th"),u.qc(11,"Navn"),u.Pb(),u.Qb(12,"th"),u.qc(13,"Plassering"),u.Pb(),u.Qb(14,"th"),u.qc(15,"Status"),u.Pb(),u.Qb(16,"th"),u.qc(17,"Vekt"),u.Pb(),u.Qb(18,"th"),u.qc(19,"St\xf8rrelse"),u.Pb(),u.Qb(20,"th"),u.qc(21,"Kommentar"),u.Pb(),u.Pb(),u.Pb(),u.Qb(22,"tbody"),u.pc(23,M,15,7,"tr",9),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Pb()),2&t){var e=u.cc();u.Ab(5),u.fc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),u.Ab(18),u.fc("ngForOf",e.inventar)}}var C,A,q,T=[{path:"",component:(C=function(){function n(e){t(this,n),this.InventarService=e,this.dtOptions={},this.dtTrigger=new b.a,this.loggedin=sessionStorage.getItem("loggedin")}return e(n,[{key:"ngOnInit",value:function(){this.getInventar(),this.dtOptions={scrollY:"70vh",language:{url:"../../assets/Norwegian-Bokmal.json"},scrollCollapse:!0,paging:!0,lengthChange:!0,searching:!0,responsive:!0,processing:!0}}},{key:"getInventar",value:function(){var t=this;this.InventarService.getAll().subscribe(function(n){t.inventar=n,t.dtTrigger.next()},function(n){return t.errorMessage=n})}},{key:"login",value:function(){}}]),n}(),C.\u0275fac=function(t){return new(t||C)(u.Lb(g.a))},C.\u0275cmp=u.Fb({type:C,selectors:[["app-home"]],features:[u.zb([g.a])],decls:4,vars:3,consts:[["color","secondary",3,"fullscreen"],["size","12","class","",4,"ngIf"],[1,"wrapper"],[4,"ngIf"],["size","12",1,""],["size","2"],["size","8"],[1,"ion-padding"],["datatable","ng","id","table",1,"row-border","hover",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"]],template:function(t,n){1&t&&(u.Qb(0,"ion-content",0),u.pc(1,I,2,0,"ion-col",1),u.Qb(2,"div",2),u.pc(3,x,24,3,"ion-grid",3),u.Pb(),u.Pb()),2&t&&(u.fc("fullscreen",!0),u.Ab(1),u.fc("ngIf",!n.loggedin),u.Ab(2),u.fc("ngIf",n.loggedin))},directives:[s.i,a.j,s.h,O,s.j,s.s,s.g,k,a.i],styles:[".wrapper[_ngcontent-%COMP%]{text-align:center;width:100%;margin:2% auto auto}ion-button[_ngcontent-%COMP%]{width:50%;height:15vh;padding:2vh}ion-grid[_ngcontent-%COMP%], ion-row[_ngcontent-%COMP%]{width:100%}@media only screen and (max-width:450px){#innsjekk[_ngcontent-%COMP%]{margin-top:15%;margin-bottom:15%}}"]}),C)},{path:"profil",component:c.a}],_=((q=function n(){t(this,n)}).\u0275mod=u.Jb({type:q}),q.\u0275inj=u.Ib({factory:function(t){return new(t||q)},imports:[[l.i.forChild(T)],l.i]}),q),S=((A=function n(){t(this,n)}).\u0275mod=u.Jb({type:A}),A.\u0275inj=u.Ib({factory:function(t){return new(t||A)},imports:[[a.b,d.e,s.w,_,d.l,d.e,Q,h.b]]}),A)}}])}();